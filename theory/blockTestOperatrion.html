
<head>
    <meta charset="utf-8">
</head>
<body>
    <script>
        const arr = new Array(10000);

        for (let i = 0; i < 10000; i++) {
          arr[i] = i;
        }


 /// STEP 1
        (function() {
          for (let i = 0; i < 10000; i++) {
            arr[i] = i;
          }
        })();

// STEP 2
        (function() {
          arr.forEach(function(v, i) {
            setTimeout(() => {
              console.log(v);
            }, 0);
          })
        })();

//STEP 3
        (function() {
          console.log('!!!!!!!!!!!!!');
        }());

    </script>
</body>
